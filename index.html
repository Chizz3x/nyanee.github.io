<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="keywords" content="not anime, not streaming, not private">

    <meta property="theme-color" content="#5E8AD0">
    <meta property="og:title" content="nyanee">
    <meta property="og:description" content="Totally not an anime streaming site and totally not private.">
    <meta property="og:image" content="img/gradient.png">
    <meta property="og:site_name" content="nyanee.vip">
		
		<link rel="stylesheet" href="css/loadingAnimation.css" type="text/css">

    <link rel="icon" href="./img/solid.ico">
    
    <style>
			:root {
				--brand: #5E8AD0;
			}
		
      #overlay {
        display: flex;
        justify-content: center;
        align-items: center;
        position:absolute;
        width:100%;
        height:100%;
        background:rgb(10,10,10);
      }
      #text {
        color: white;
        font-family: sans-serif;
        display: none;
      }
			.icon {
				position: absolute;
				top: 0;
				width: 100px;
				height: 100px;
				transition: 30s linear;
				transform: translateY(-100px);
			}
    </style>
  </head>
  <body style="background-color:rgb(10,10,10);overflow:hidden">
    <div id="overlay">
      <span id='text'>nyanee team presents...</span>
    </div>
    
    <video id='vid' width="100%" height="100%" loop>
      <source src="rick.mp4" type="video/mp4">
    </video>
    
    <script src="js/jquery-3.3.1.min.js"></script>
		<script src="js/loadingAnimation.js"></script>
    <script>
      let $ = jQuery;
      $('#text').delay(500).fadeIn('medium');
      $('#text').delay(2000).fadeOut('medium');
      
      let fails = -1;
      let notified = false;

      function  playVideo() {
        fails++;
        if(fails >= 8 && !notified) {
          notified = true;
          $('#text').html('Press anywhere on the browser to start.');
          $('#text').fadeIn('medium');
        };
        document.getElementById("vid").play().then(function() {
          $('#overlay').fadeOut('fast');
					setInterval(spawnIcon, 2000);
        }).catch(function(error) {
          console.log(error);
          if(error)
            setTimeout(playVideo, 500);
        })
      }
			
			function spawnIcon() {
				let el = document.createElement('div');
				el.classList.add('icon');
				el.style.left = `${Math.random() * (window.innerWidth - 100)}px`;
				document.body.appendChild(el);
				setTimeout(function() {
					loadingAnimation(el);
					el.style.transform = `translateY(${window.innerHeight}px) rotate(2000deg)`;
					setTimeout(function() {
						document.body.removeChild(el);
					}, 30000)
				}, 500)
			}

      playVideo();
    </script>
  </body>
</html>
